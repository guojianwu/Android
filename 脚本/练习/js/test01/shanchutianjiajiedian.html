<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" language="JavaScript">
          /*
          需求1：
          需求2：
              为add添加响应函数
              1、获取#name #email #salaryd的文本框的值
              2、利用第一步获取的文本值创建3个td节点   一个tr节点，
              并把以上的3个td节点位于tr的子节点
              3、再创建一个td节点
              4、把第三步创建的td节点添加到tr节点的子节点

          */

        window.onload=function(){
            var aNode=document.getElementById("cmplo").getElementsByTagName("a");
            for(var i=0;i<aNode.length;i++){
                aNode[i].onclick=function(){
/*
                    //找到删除节点  a--父节点 td---tr
                    //this代表当前的a节点
                    var trNode=this.parentNode.parentNode;
                    var textConten=trNode.getElementsByTagName("td")[0].firstChild.nodeValue;
                    //var textConten=trNode.firstChild.firstChild.nodeValue;
                    var flag=confirm("确定要删除"+textConten+"的信息吗？");
                    if(flag){
                        trNode.parentNode.removeChild(trNode);
                    }
*/
                    aOnclick(this);

                    return false;
                }
            }

            var addNode=document.getElementById("add");
            addNode.onclick=function(){

                // var textName=document.getElementById("name").value;
              /*  var nameEle=document.getElementsByName("name")[0];
                var nameVal=nameEle.value;
                 var tdNode=document.createElement("td");
                 var trNode=document.createElement("tr");
                  tdNode.appendChild(nameVal);
                   trNode.appendChild(tdNode);
                document.getElementById("cmplo").appendChild(trNode);
                */

                //获取#name #email #salaryd的文本框的值
               var nameVal=document.getElementById("name").value;
                var emailVal=document.getElementById("email").value;
                var salaryVal=document.getElementById("salary").value;


                //利用第一步获取的文本值创建3个td节点   一个tr节点，
                // 并把以上的3个td节点位于tr的子节点
                var nameTd=document.createElement("td");
                nameTd.appendChild(document.createTextNode(nameVal));

                var emailTd=document.createElement("td");
                emailTd.appendChild(document.createTextNode(emailVal));

                var salaryTd=document.createElement("td");
                salaryTd.appendChild(document.createTextNode(salaryVal));

                //添加a标签并添加文字节点为Delete
                var aNode=document.createElement("a");
                aNode.href="deleteEmp?id=002";
                var aText=aNode.appendChild(document.createTextNode("Delete"));

                var aTd=document.createElement("td");
                aTd.appendChild(aNode);

                //再创建一个tr节点  并把创建的td节点添加到tr节点的子节点
                var tr=document.createElement("tr");
                tr.appendChild(nameTd);
                tr.appendChild(emailTd);
                tr.appendChild(salaryTd);
                tr.appendChild(aTd);


                //把创建的节点添加到table表格中
               var tab=document.getElementById("cmplo");
                tab.appendChild(tr);


                //为aNode添加删除的监听事件
                    aNode.onclick=function(){
                        aOnclick(this);
                        return false;
                    }

            }

            //删除tr节点的函数
            function aOnclick(obj){
                //找到删除节点  a--父节点 td---tr
                //this代表当前的a节点
                var trNode=obj.parentNode.parentNode;
                var textConten=trNode.getElementsByTagName("td")[0].firstChild.nodeValue;
                //var textConten=trNode.firstChild.firstChild.nodeValue;
                var flag=confirm("确定要删除"+textConten+"的信息吗？");
                if(flag){
                    trNode.parentNode.removeChild(trNode);
                }
            }

        }
    </script>


</head>
<body>


<center>
    <br><br>添加新员工 <br><br>
    name<input type="text" name="name" id="name">&nbsp;&nbsp;
    email<input type="text" name="email" id="email">&nbsp;&nbsp;
    salary<input type="text" name="salary" id="salary">&nbsp;&nbsp;

    <br/>
    <br/>
    <button id="add" style="margin-top: 20px;margin-bottom: 40px">Submit</button>
    <br/>
    <br/>

    <p style="border: 1px solid black;margin-bottom:40px"></p>


    <table id="cmplo" border="1" cellpadding="5" cellspacing="0">
    <tr>
        <th>name</th>
        <th>Email</th>
        <th>salary</th>
        <th>&nbsp;</th>

    </tr>
    <tr>
        <td>Tom</td>
        <td>333222111@qq.com</td>
        <td>8000</td>
        <td><a href="deleteEmp?id=001">Delete</a></td>
    </tr>
    <tr>
        <td>Jerry</td>
        <td>99955533@qq.com</td>
        <td>91200</td>
        <td><a href="deleteEmp?id=002">Delete</a></td>
    </tr>
    <tr>
        <td>Dom</td>
        <td>100023125@qq.com</td>
        <td>91200</td>
        <td><a href="deleteEmp?id=002">Delete</a></td>
    </tr>
</table>
</center>

</body>
</html>