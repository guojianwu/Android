<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" language="JavaScript">
          /*
          需求1：
          需求2：
              为add添加响应函数
              1、获取#name #email #salaryd的文本框的值
              2、利用第一步获取的文本值创建3个td节点   一个tr节点，
              并把以上的3个td节点位于tr的子节点
              3、再创建一个td节点
              4、把第三步创建的td节点添加到tr节点的子节点

          */

        window.onload=function(){
            var aNode=document.getElementById("cmplo").getElementsByTagName("a");
            for(var i=0;i<aNode.length;i++){
                aNode[i].onclick=function(){
                    oRemove(this);
                    return false;
                }
            }

            var addNode=document.getElementById("add");
            addNode.onclick=function(){


               //获取#name #email #salaryd的文本框的值
               var nameVal=document.getElementById("name").value;
                var emailVal=document.getElementById("email").value;
                var salaryVal=document.getElementById("salary").value;


               // 2、利用第一步获取的文本值创建3个td节点   一个tr节点，
                var nameTd=document.createElement("td");
                nameTd.appendChild(document.createTextNode(nameVal));

                var  emailTd=document.createElement("td");
                emailTd.appendChild(document.createTextNode(emailVal));

                var salaryTd=document.createElement("td");
                salaryTd.appendChild(document.createTextNode(salaryVal));


                var tr=document.createElement("tr");
                tr.appendChild(nameTd);
                tr.appendChild(emailTd);
                tr.appendChild(salaryTd);

                //3、在创建一个td节点
                var aNode=document.createElement("a");
                aNode.href="deleteEmp?id=002";
                aNode.appendChild(document.createTextNode("Delete"));

                var aTd=document.createElement("td");
                aTd.appendChild(aNode);

                tr.appendChild(aTd);

              document.getElementById("cmplo").appendChild(tr);

                aNode.onclick=function(){
                    oRemove(this);
                    return false;

                }

            }

            function oRemove(obj){
                //找到删除节点  a--父节点 td---tr
                //this代表当前的a节点
                var trNode=obj.parentNode.parentNode;
                var textConten=trNode.getElementsByTagName("td")[0].firstChild.nodeValue;
                //var textConten=trNode.firstChild.firstChild.nodeValue;
                var flag=confirm("确定要删除"+textConten+"的信息吗？");
                if(flag){
                    trNode.parentNode.removeChild(trNode);
                }
                return false;
            }


        }
    </script>


</head>
<body>


<center>
    <br><br>添加新员工 <br><br>
    name<input type="text" name="name" id="name">&nbsp;&nbsp;
    email<input type="text" name="email" id="email">&nbsp;&nbsp;
    salary<input type="text" name="salary" id="salary">&nbsp;&nbsp;

    <br/>
    <br/>
    <button id="add">Submit</button>
    <br/>
    <br/>


    <table id="cmplo" border="1" cellpadding="5" cellspacing="0">
    <tr>
        <th>name</th>
        <th>Email</th>
        <th>salary</th>
        <th>&nbsp;</th>

    </tr>
    <tr>
        <td>Tom</td>
        <td>12345</td>
        <td>8000</td>
        <td><a href="deleteEmp?id=001">Delete</a></td>
    </tr>
    <tr>
        <td>Jerry</td>
        <td>67890</td>
        <td>91200</td>
        <td><a href="deleteEmp?id=002">Delete</a></td>
    </tr>
    <tr>
        <td>dom</td>
        <td>67890</td>
        <td>91200</td>
        <td><a href="deleteEmp?id=002">Delete</a></td>
    </tr>
</table>
</center>

</body>
</html>